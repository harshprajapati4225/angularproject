"use strict";(self.webpackChunkloginweb=self.webpackChunkloginweb||[]).push([[177],{6177:(h,m,a)=>{a.r(m),a.d(m,{LoginPageModule:()=>i});var d=a(6895),l=a(4736),e=a(8256),o=a(433);function c(n,t){1&n&&(e.TgZ(0,"div",11),e._uU(1," Registration successful. Please log in with your credentials. "),e.qZA())}function p(n,t){1&n&&(e.TgZ(0,"div")(1,"h1"),e._uU(2,"Please enter a valid username and password"),e.qZA()())}class g{constructor(t){this.router=t,this.username="",this.password="",this.invalidCredentials=!1,this.Data=JSON.parse(localStorage.getItem("values")||"{}"),this.userdata=this.Data,this.showRegistrationSuccessMessage=!1}ngOnInit(){if(sessionStorage.getItem("currentuser")){const r=JSON.parse(sessionStorage.getItem("currentUserRole")||"{}");"teamleader"===r?this.router.navigate(["/teamleader"]):"teammember"===r&&this.router.navigate(["/teammember"])}"true"===sessionStorage.getItem("registrationSuccess")&&(this.showRegistrationSuccessMessage=!0,sessionStorage.removeItem("registrationSuccess"))}login(t,s){if(""!==t&&""!==s){for(let r=0;r<this.Data.length;r++){if("admin"===t&&t===this.userdata[r].username&&s===this.userdata[r].password)return"teamleader";if(t===this.userdata[r].username&&s===this.userdata[r].password)return"teammember"}return this.invalidCredentials=!0,!1}return this.invalidCredentials=!0,!1}onSubmit(){const t=this.login(this.username,this.password);"teamleader"===t?(sessionStorage.setItem("currentuser",JSON.stringify(this.username)),sessionStorage.setItem("currentUserRole",JSON.stringify("teamleader")),this.router.navigate(["/teamleader"])):"teammember"===t&&(sessionStorage.setItem("currentuser",JSON.stringify(this.username)),sessionStorage.setItem("currentUserRole",JSON.stringify("teammember")),this.router.navigate(["/teammember"]))}}g.\u0275fac=function(t){return new(t||g)(e.Y36(l.F0))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-login-page"]],decls:16,vars:4,consts:[[1,"bg-sky-400","w-screen","h-screen","justify-center","flex","flex-col","items-center"],["class","alert alert-success",4,"ngIf"],[4,"ngIf"],["method","post","name","loginform",1,"border-2","border-solid","border-black","p-10","inset-1","flex","flex-col","bg-white",3,"ngSubmit"],["myForm","ngForm"],["for","username"],["type","email","placeholder","email","name","email",1,"m-5","border-black","border-1","border","p-2",3,"ngModel","ngModelChange"],["for","password"],["type","password","placeholder","password","name","password",1,"m-5","border-black","border-1","border","p-2",3,"ngModel","ngModelChange"],["type","submit","value","submit",1,"text-center","bg-sky-400","p-1"],["routerLink","/register",1,"text-center","p-1"],[1,"alert","alert-success"]],template:function(t,s){1&t&&(e.TgZ(0,"section",0),e.YNc(1,c,2,0,"div",1),e.YNc(2,p,3,0,"div",2),e.TgZ(3,"div")(4,"form",3,4),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.TgZ(6,"label",5),e._uU(7,"USERNAME"),e.qZA(),e.TgZ(8,"input",6),e.NdJ("ngModelChange",function(u){return s.username=u}),e.qZA(),e.TgZ(9,"label",7),e._uU(10,"PASSWORD"),e.qZA(),e.TgZ(11,"input",8),e.NdJ("ngModelChange",function(u){return s.password=u}),e.qZA(),e.TgZ(12,"button",9),e._uU(13,"SUBMIT"),e.qZA(),e.TgZ(14,"a",10),e._uU(15,"Register"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",s.showRegistrationSuccessMessage),e.xp6(1),e.Q6J("ngIf",s.invalidCredentials),e.xp6(6),e.Q6J("ngModel",s.username),e.xp6(3),e.Q6J("ngModel",s.password))},dependencies:[d.O5,l.rH,o._Y,o.Fj,o.JJ,o.JL,o.On,o.F]});const f=[{path:"",component:g}];class i{}i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[d.ez,l.Bz.forChild(f),o.u5]})}}]);