<app-teamleader-header></app-teamleader-header>
<h1 class="inline font-bold text-2xl">Task List</h1>
<table class="text-center m-10">
  <tr class="border-4 p-2">
    <th class="border-4 p2">status</th>
    <th class="border-4 p-2">task</th>
    <th class="border-4 p-2">due date</th>
    <th class="border-4 p-2">assingnee</th>
    <th class="border-4 p-2">Note</th>
  </tr>
  <tr class="border-4 p-2" *ngFor="let data of allTask">
    <td class="border-4 p-2" *ngIf="currentUser === data.data.assingnee">
      <input
        type="checkbox"
        [(ngModel)]="data.data.status"
        (change)="updateTaskStatus(data)"
      />
    </td>
    <td class="border-4 p-2" *ngIf="currentUser === data.data.assingnee">
      {{ data.data.task }}
    </td>
    <td class="border-4 p-2" *ngIf="currentUser === data.data.assingnee">
      {{ data.data.duedate }}
    </td>
    <td class="border-4 p-2" *ngIf="currentUser === data.data.assingnee">
      {{ data.data.assingnee }}
    </td>
    <td class="border-4 p-2" *ngIf="currentUser === data.data.assingnee">
      {{ data.data.note }}<br />
      <div >
        <input
          type="text"
          placeholder="Updated Notes"
          [(ngModel)]="updatedNote"
          name="updatedNote"
        />
        <button class="p-2 bg-sky-400" (click)="editNotes()">Update</button>
      </div>
    </td>
  </tr>
</table>

